{% extends 'layout/logged_in_layout.twig' %}

{% block page_head %}
  <link rel="stylesheet" href="static/css/registerStyle.css">
{% endblock %}

{% block page_content %}
  <div class="container entryFieldRegister objectSpace">
    <div class="descriptor container">
      <h2 id="eventName">
        {{ event_name }}
      </h2>
      <br>
      <text id="eventLocation">
        {{ location }}
      </text>
      <br><br>
      <text id="eventDescriptionLabel"></text>
      <p id="eventDescription"></p>
    </div>
    <br>

    <div class="calendarField container">
      <div id="datepicker2"></div>
    </div>

    <!-- <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Select TimeSlot</button> -->

    <table id="timeSlots" class="table mt-5 d-none">

      <tr class="row">
        {% for table_header in table_headers %}
        <th class="col">{{ table_header }} </th>
        {% endfor %}
      </tr>

      {% for table_row in table_rows %}

        <tr class="row">
          {% for table_data in table_row %}
          <td class="col">{{ table_data }}</td>
          {% endfor %}
        </tr>

      {% endfor %}

    </table>

    <!-- Modal -->
    <div id="myModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <!-- Modal content -->
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">
              Pick a timeslot
            </h4>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>

          <div class="modal-body">
            <h3 id="dayLabel"></h3>
            <h2 id="dateLabel"></h2>

            <div class="container timeContainer">
              <table class="table table-bordered align-top slotPicker table-sm"
                id="slotPicker">
                <thead>
                  <tr>
                    <th scope="col">
                      Time
                    </th>
                    <th scope="col">
                      Slots
                    </th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-dark" data-dismiss="modal">
              Close
            </button>
            <button type="button" class="btn btn-dark" id="submitButton">
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal FeedBack -->
    <div id="feedBackModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <!-- Modal content -->
        <div class="modal-content">
          <div class="modal-header">
            <h4 id="feedbackMessage" class="modal-title">
              You have been registered!
            </h4>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>

          <div class="modal-body">
            <text id="confirmationText">
              A confirmation email has been sent to your Oregon State Email!
            </text>

            {% if event_upload == 1 %}
              <br>
              <div class="fileUploadContainer">
                <label id="noticeLabel">*Registration Notice*</label>
                <br>
                <div class="fileUploadContent">
                  <label id="uploadLabel">
                    This event has file uploading enabled. You may optionally
                    upload a file to your registration now or you can upload a
                    file at a later time in the reservations page.  You may only
                    upload a single file.  If you need to upload multiple files
                    please put them into a single zip file.
                  </label>
                  {% include 'partials/upload.twig' %}
                </div>
              </div>
            {% endif %}
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-dark" data-dismiss="modal">
              Finish
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock %}

{% block page_footer %}

<!-- JavaScript specific to this page -->
<script type="text/javascript" src="static/view_js/upload.js"></script>

<!-- JavaScript specific to this page -->
<script type="text/javascript" src="static/view_js/register.js"></script>

{% endblock %}
